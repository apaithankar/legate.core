<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Legate: legate::ScopedAllocator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Legate<span id="projectnumber">&#160;24.01.00</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>legate</b></li><li class="navelem"><a class="el" href="classlegate_1_1ScopedAllocator.html">ScopedAllocator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classlegate_1_1ScopedAllocator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">legate::ScopedAllocator Class Reference<div class="ingroups"><a class="el" href="group__data.html">Data abstractions and allocators</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>A simple allocator backed by <code>Buffer</code> objects.  
 <a href="classlegate_1_1ScopedAllocator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="allocator_8h_source.html">core/data/allocator.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a66e1bd2197f2e67324e6575f94caf6ab" id="r_a66e1bd2197f2e67324e6575f94caf6ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlegate_1_1ScopedAllocator.html#a66e1bd2197f2e67324e6575f94caf6ab">ScopedAllocator</a> (Memory::Kind kind, <a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">bool</a> <a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">scoped</a>=<a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">true</a>, <a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">size_t</a> alignment=DEFAULT_ALIGNMENT)</td></tr>
<tr class="memdesc:a66e1bd2197f2e67324e6575f94caf6ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <code><a class="el" href="classlegate_1_1ScopedAllocator.html" title="A simple allocator backed by Buffer objects.">ScopedAllocator</a></code> for a specific memory kind.  <br /></td></tr>
<tr class="separator:a66e1bd2197f2e67324e6575f94caf6ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e2b297a175a98873db28688fbd7f99c" id="r_a4e2b297a175a98873db28688fbd7f99c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlegate_1_1ScopedAllocator.html#a4e2b297a175a98873db28688fbd7f99c">allocate</a> (<a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">size_t</a> <a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">bytes</a>)</td></tr>
<tr class="memdesc:a4e2b297a175a98873db28688fbd7f99c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a contiguous buffer of the given Memory::Kind.  <br /></td></tr>
<tr class="separator:a4e2b297a175a98873db28688fbd7f99c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5bf91c4b529a8f96e00861097e2bbe" id="r_aeb5bf91c4b529a8f96e00861097e2bbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlegate_1_1ScopedAllocator.html#aeb5bf91c4b529a8f96e00861097e2bbe">deallocate</a> (<a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">void</a> *ptr)</td></tr>
<tr class="memdesc:aeb5bf91c4b529a8f96e00861097e2bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates an allocation. The input pointer must be one that was previously returned by an <code>allocate</code> call, otherwise the code will fail with an error message.  <br /></td></tr>
<tr class="separator:aeb5bf91c4b529a8f96e00861097e2bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A simple allocator backed by <code>Buffer</code> objects. </p>
<p>For each allocation request, this allocator creates a 1D <code>Buffer</code> of <code>int8_t</code> and returns the raw pointer to it. By default, all allocations are deallocated when the allocator is destroyed, and can optionally be made alive until the task finishes by making the allocator unscoped. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a66e1bd2197f2e67324e6575f94caf6ab" name="a66e1bd2197f2e67324e6575f94caf6ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e1bd2197f2e67324e6575f94caf6ab">&#9670;&#160;</a></span>ScopedAllocator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">legate::ScopedAllocator::ScopedAllocator </td>
          <td>(</td>
          <td class="paramtype">Memory::Kind&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">bool</a>&#160;</td>
          <td class="paramname"><em>scoped</em> = <code><a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">true</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">size_t</a>&#160;</td>
          <td class="paramname"><em>alignment</em> = <code>DEFAULT_ALIGNMENT</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a <code><a class="el" href="classlegate_1_1ScopedAllocator.html" title="A simple allocator backed by Buffer objects.">ScopedAllocator</a></code> for a specific memory kind. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kind</td><td>Kind of the memory on which the <code>Buffer</code>s should be created </td></tr>
    <tr><td class="paramname">scoped</td><td>If true, the allocator is scoped; i.e., lifetimes of allocations are tied to the allocator's lifetime. Otherwise, the allocations are alive until the task finishes (and unless explicitly deallocated). </td></tr>
    <tr><td class="paramname">alignment</td><td>Alignment for the allocations </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4e2b297a175a98873db28688fbd7f99c" name="a4e2b297a175a98873db28688fbd7f99c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e2b297a175a98873db28688fbd7f99c">&#9670;&#160;</a></span>allocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">void</a> * legate::ScopedAllocator::allocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">size_t</a>&#160;</td>
          <td class="paramname"><em>bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a contiguous buffer of the given Memory::Kind. </p>
<p>When the allocator runs out of memory, the runtime will fail with an error message. Otherwise, the function returns a valid pointer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bytes</td><td>Size of the allocation in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A raw pointer to the allocation </dd></dl>

</div>
</div>
<a id="aeb5bf91c4b529a8f96e00861097e2bbe" name="aeb5bf91c4b529a8f96e00861097e2bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb5bf91c4b529a8f96e00861097e2bbe">&#9670;&#160;</a></span>deallocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">void</a> legate::ScopedAllocator::deallocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__data.html#ga655d14b01317cd85edf3433f410fda0d">void</a> *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocates an allocation. The input pointer must be one that was previously returned by an <code>allocate</code> call, otherwise the code will fail with an error message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Pointer to the allocation to deallocate </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="allocator_8h_source.html">allocator.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
